<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NellyCoin (NLY) â€” La mascotte de la communautÃ©</title>
  <meta name="description" content="NellyCoin (NLY) â€” Meme coin communautaire inspirÃ© par Nelly le chat. Transparence, fun et utilitÃ© progressive. FR/EN." />
  <meta name="theme-color" content="#0b1020" />
  <!-- Icons / PWA -->
  <link rel="icon" href="assets/nelly/logo.png" sizes="32x32" />
  <link rel="apple-touch-icon" href="assets/nelly/logo.png" />
  <link rel="manifest" href="assets/nelly/site.webmanifest" />
  <style>
    :root{
      --bg:#0b1020;--panel:#0f1631;--card:#121a38;
      --muted:#c7d2ea;--txt:#ffffff;
      --accent:#f6b449;--accent-2:#ffd36a;
      --ok:#22c55e;--down:#ef4444;
      --border:rgba(255,255,255,.22);
      --shadow:0 10px 30px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.08);
    }
    *{box-sizing:border-box}
    html,body{
      margin:0; padding:0;
      background:
        radial-gradient(900px 520px at 15% -10%, #1a2454 0%, transparent 60%),
        radial-gradient(900px 520px at 120% 10%, #401c48 0%, transparent 55%),
        linear-gradient(180deg, #0b1020 0%, #090e1a 100%);
      color:var(--txt);
      font-family: ui-sans-serif,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;
      line-height:1.6; overflow-x:hidden; scroll-behavior:smooth
    }
    a{color:var(--accent); text-decoration:none}
    img{max-width:100%; height:auto; display:block}
    .container{width:min(1200px,94%); margin-inline:auto}

    /* Header / Nav */
    header{position:sticky; top:0; z-index:60;
      backdrop-filter:saturate(140%) blur(10px);
      background:linear-gradient(180deg,rgba(11,16,32,.92),rgba(11,16,32,.55));
      border-bottom:1px solid var(--border)
    }
    .nav{display:flex; align-items:center; gap:10px; padding:10px 0}
    .brand{display:flex; align-items:center; gap:10px}
    .brand img{width:44px; height:44px; border-radius:10px; box-shadow:0 0 24px rgba(246,180,73,.25)}
    .brand span{font-weight:900; letter-spacing:.6px}
    nav.main{display:flex; gap:12px; align-items:center}
    nav.main a{position:relative; color:var(--txt); padding:8px}
    nav.main a:after{content:''; position:absolute; left:12px; right:12px; bottom:6px; height:2px; background:transparent; border-radius:4px; transition:background .18s}
    nav.main a:hover:after, nav.main a.active:after{background:linear-gradient(90deg,var(--accent),var(--accent-2))}
    .spacer{flex:1}
    .btn{cursor:pointer; display:inline-flex; align-items:center; gap:8px;
      padding:11px 14px; border-radius:12px; border:1px solid var(--border);
      background:linear-gradient(180deg,rgba(255,255,255,.22),rgba(255,255,255,.08));
      color:#0e1116; font-weight:800; box-shadow:var(--shadow)}
    .btn.accent{background:linear-gradient(180deg,var(--accent-2),var(--accent));
      color:#1a1303; border-color:rgba(255,211,106,.85)}
    .btn.ghost{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02)); color:var(--txt)}
    .btn.sm{padding:8px 10px; border-radius:10px; font-weight:700}
    .lang-select{border:1px solid var(--border); padding:8px 10px; border-radius:10px; background:#ffffff; color:#0e1116; font-weight:800}

    /* Blocks / Common */
    .panel{background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.05));
      border:1px solid var(--border); border-radius:16px; padding:16px; box-shadow:var(--shadow); margin-top:14px}
    .card{border:1px solid var(--border); background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.04));
      border-radius:14px; padding:14px; box-shadow:var(--shadow)}
    .muted{color:var(--muted)}
    .list{margin:0; padding-left:18px}
    .addr{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      background:rgba(255,255,255,.06); padding:6px 8px; border-radius:8px}
    .addr-row{display:flex; gap:8px; align-items:center; flex-wrap:wrap}

    /* Desktop hero grid: left stack + right banner/dex */
    .hero-grid{
      display:grid; grid-template-columns:1.1fr .9fr; gap:18px; align-items:start;
    }
    .left-stack{display:grid; gap:12px}

    /* Banner responsive (auto adjust) */
    .hero-banner{
      width:100%;
      height:auto;
      max-height:320px; /* limite desktop */
      object-fit:cover; /* recadre proprement sans dÃ©former */
      object-position:center;
      border-radius:12px;
      box-shadow:var(--shadow);
      background:#0b1020;
      margin-top:6px;
    }

    .stats-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:10px}
    .stats-grid .panel{padding:10px}

    /* Visibility helpers */
    .only-desktop{display:block}
    .only-mobile{display:none}

    /* Official links lists */
    .linksgrid{display:grid; grid-template-columns:1fr; gap:12px}

    /* Roadmap */
    .roadgrid{display:grid; grid-template-columns:repeat(4,1fr); gap:14px}

    /* Mobile */
    #menuToggle{display:none}
    @media (max-width:980px){
      #menuToggle{display:inline-flex}
      nav.main{position:fixed; inset:60px 10px auto 10px; display:none; flex-direction:column; gap:6px; padding:12px; border:1px solid var(--border); border-radius:12px; background:rgba(11,16,32,.98)}
      nav.main.open{display:flex}
      .hero-grid{grid-template-columns:1fr}
      .only-desktop{display:none}
      .only-mobile{display:block}
      .stats-grid{grid-template-columns:1fr}
      .panel{padding:14px}
      .roadgrid{grid-template-columns:1fr}
      .hero-banner{max-height:260px; object-fit:contain} /* banniÃ¨re mobile auto-ajustÃ©e */
    }

    footer{border-top:1px solid var(--border); margin-top:34px; padding:18px 0; color:var(--muted)}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="container nav">
      <a class="brand" href="#top" aria-label="NellyCoin Home">
        <img src="assets/nelly/logo.png" alt="NellyCoin logo"/>
        <span>NellyCoin (NLY)</span>
      </a>
      <button id="menuToggle" aria-label="Ouvrir le menu" class="btn ghost">â˜°</button>
      <nav class="main" id="mainNav" aria-label="Main navigation">
        <a href="#about" data-i18n="nav.about">Ã€ propos</a>
        <a href="#howto" data-i18n="nav.howto">Comment acheter</a>
        <a href="#tokenomics" data-i18n="nav.tokenomics">Tokenomics</a>
        <a href="#roadmap" data-i18n="nav.roadmap">Feuille de route</a>
        <a href="staking.html" data-i18n="nav.staking">Staking</a>
        <a href="faq.html" data-i18n="nav.faq">FAQ</a>
      </nav>
      <div class="spacer"></div>
      <select id="lang" class="lang-select" title="Langue"><option value="fr">FR</option><option value="en">EN</option></select>
      <a class="btn accent" href="#howto" id="buyBtn">ğŸ’± <span data-i18n="nav.buy">Acheter NLY</span></a>
    </div>
  </header>

  <main class="container" id="top">
    <!-- MOBILE FLOW (ordre demandÃ©) -->
    <section class="only-mobile" aria-label="Intro mobile">
      <p class="muted" data-i18n="hero.mascotte">
        ğŸ¾ <b>NellyCoin â€” la mascotte de la communautÃ©.</b><br/>
        InspirÃ© par Nelly le chat, symbole dâ€™un projet fun, transparent et communautaire.
      </p>
      <img class="hero-banner" src="assets/nelly/banniere.jpg" alt="BanniÃ¨re NellyCoin"/>
    </section>

    <section class="only-mobile">
      <!-- 3. Comment acheter -->
      <section class="panel" id="howto-m">
        <h2 data-i18n="how.title">Comment acheter</h2>
        <ol class="list">
          <li data-i18n="how.l1">Installer MetaMask/Trust Wallet â†’ RÃ©seau BSC.</li>
          <li data-i18n="how.l2">Ajouter des BNB.</li>
          <li data-i18n="how.l3">Ouvrir PancakeSwap et importer le contrat du token.</li>
          <li data-i18n="how.l4">Slippage: 0.1â€“5% selon taxes actives.</li>
        </ol>
      </section>
      <!-- 4. PWA -->
      <section class="panel" id="pwa-mobile">
        <h3>ğŸ“² <span data-i18n="pwa.title">PWA</span></h3>
        <p class="muted" data-i18n="pwa.text.full">
          Disponible aprÃ¨s la prÃ©vente. Taxes â‰¤5% (3% marketing + 2% LP). Accessible sur navigateur ou via installation PWA.
        </p>
      </section>
      <!-- 5. App (mobile only) -->
      <section class="panel" id="app-mobile">
        <h3>ğŸ“¥ <span data-i18n="app.title">App</span></h3>
        <p class="muted" data-i18n="app.text">App NellyCoin installable depuis ton navigateur mobile.</p>
        <button class="btn" id="installBtn">ğŸ“² <span data-i18n="app.install">Installer</span></button>
      </section>
      <!-- 6. Pourquoi Nelly -->
      <section class="panel" id="about-m">
        <h2 data-i18n="about.title">Pourquoi NellyCoin ?</h2>
        <p class="muted" data-i18n="about.desc">
          NellyCoin (NLY) est un meme coin communautaire inspirÃ© par Nelly le chat. Transparence, humour, et utilitÃ© progressive.
        </p>
        <ul class="list muted">
          <li data-i18n="about.p1">Projet communautaire sur BSC : fun, transparence et vision long terme.</li>
          <li data-i18n="about.p2">Contrat public et LP lock publiÃ©s.</li>
          <li data-i18n="about.p3">UtilitÃ©s progressives (staking, concours, intÃ©grations).</li>
        </ul>
      </section>
      <!-- 7. Statut -->
      <section class="panel" id="status-m">
        <h3>ğŸŸ¡ <span data-i18n="status.title">Statut</span></h3>
        <p class="muted" data-i18n="status.text">PrÃ©-vente & listing Ã  venir.</p>
        <div style="display:flex; gap:8px; flex-wrap:wrap">
          <a class="btn accent" href="#howto-m">ğŸ’± <span data-i18n="status.buy">Acheter</span></a>
          <a class="btn ghost" href="#" aria-disabled="true" data-i18n="status.presale">PrÃ©-vente (bientÃ´t)</a>
        </div>
      </section>
      <!-- 8. Live Dex -->
      <section class="panel" id="dex-m">
        <h3 data-i18n="live.title">Cours & Stats (live)</h3>
        <p class="muted" data-i18n="live.note">Le live chart sera visible aprÃ¨s le listing PancakeSwap. DonnÃ©es via Dexscreener.</p>
        <div class="stats-grid">
          <div class="panel"><small class="muted" data-i18n="live.usd">Prix (USD)</small><div id="m_priceUsd" style="font-weight:800;font-size:18px">â€”</div><small class="muted" data-i18n="live.bnb">Prix (BNB)</small> <span id="m_priceBnb">â€”</span></div>
          <div class="panel"><small class="muted" data-i18n="live.change">Variation 24h</small><div id="m_change24" style="font-weight:800;font-size:18px">â€”</div><small class="muted" data-i18n="live.vol">Volume 24h</small> <span id="m_vol24">â€”</span></div>
          <div class="panel"><small class="muted">FDV</small><div id="m_fdv" style="font-weight:800;font-size:18px">â€”</div></div>
          <div class="panel"><small class="muted" data-i18n="live.liq">LiquiditÃ©</small><div id="m_liquidity" style="font-weight:800;font-size:18px">â€”</div></div>
        </div>
        <small class="muted" data-i18n="live.src">Mise Ã  jour auto toutes les 30 s (Dexscreener).</small>
      </section>
    </section>

    <!-- DESKTOP HERO GRID (gauche/droite) -->
    <section class="hero-grid only-desktop" aria-label="Intro desktop">
      <!-- Gauche -->
      <div class="left-stack">
        <section class="panel" id="about">
          <h2 data-i18n="about.title">Pourquoi NellyCoin ?</h2>
          <p class="muted" data-i18n="about.desc">
            NellyCoin (NLY) est un meme coin communautaire inspirÃ© par Nelly le chat. Transparence, humour, et utilitÃ© progressive.
          </p>
          <ul class="list muted" style="margin-top:8px">
            <li data-i18n="about.p1">Projet communautaire sur BSC : fun, transparence et vision long terme.</li>
            <li data-i18n="about.p2">Contrat public et LP lock publiÃ©s.</li>
            <li data-i18n="about.p3">UtilitÃ©s progressives (staking, concours, intÃ©grations).</li>
          </ul>
        </section>

        <section class="panel" id="howto">
          <h2 data-i18n="how.title">Comment acheter</h2>
          <ol class="list">
            <li data-i18n="how.l1">Installer MetaMask/Trust Wallet â†’ RÃ©seau BSC.</li>
            <li data-i18n="how.l2">Ajouter des BNB.</li>
            <li data-i18n="how.l3">Ouvrir PancakeSwap et importer le contrat du token.</li>
            <li data-i18n="how.l4">Slippage: 0.1â€“5% selon taxes actives.</li>
          </ol>
        </section>

        <section class="panel" id="pwa-desktop">
          <h3>ğŸ“² <span data-i18n="pwa.title">PWA</span></h3>
          <p class="muted" data-i18n="pwa.text.full">
            Disponible aprÃ¨s la prÃ©vente. Taxes â‰¤5% (3% marketing + 2% LP). Accessible sur navigateur ou via installation PWA.
          </p>
        </section>

        <section class="panel" id="status">
          <h3>ğŸŸ¡ <span data-i18n="status.title">Statut</span></h3>
          <p class="muted" data-i18n="status.text">PrÃ©-vente & listing Ã  venir.</p>
          <div style="display:flex; gap:8px; flex-wrap:wrap">
            <a class="btn accent" href="#howto">ğŸ’± <span data-i18n="status.buy">Acheter</span></a>
            <a class="btn ghost" href="#" aria-disabled="true" data-i18n="status.presale">PrÃ©-vente (bientÃ´t)</a>
          </div>
        </section>
      </div>

      <!-- Droite -->
      <div>
        <img class="hero-banner" src="assets/nelly/banniere.jpg" alt="BanniÃ¨re NellyCoin" />
        <section class="panel" id="dex">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap">
            <h3 style="margin:0" data-i18n="live.title">Cours & Stats (live)</h3>
            <small class="muted" id="lastUpdated">N/A</small>
            <button class="btn sm" id="refreshBtn" type="button" aria-live="polite" data-i18n="live.refresh">â†» RafraÃ®chir</button>
          </div>
          <p class="muted" data-i18n="live.note">Le live chart sera visible aprÃ¨s le listing PancakeSwap. DonnÃ©es via Dexscreener.</p>
          <div class="stats-grid">
            <div class="panel">
              <div><small class="muted" data-i18n="live.usd">Prix (USD)</small></div>
              <div id="priceUsd" style="font-weight:800; font-size:18px">â€”</div>
              <div><small class="muted" data-i18n="live.bnb">Prix (BNB)</small> <span id="priceBnb">â€”</span></div>
            </div>
            <div class="panel">
              <div><small class="muted" data-i18n="live.change">Variation 24h</small></div>
              <div id="change24" style="font-weight:800; font-size:18px">â€”</div>
              <div><small class="muted" data-i18n="live.vol">Volume 24h</small> <span id="vol24">â€”</span></div>
            </div>
            <div class="panel">
              <div><small class="muted">FDV</small></div>
              <div id="fdv" style="font-weight:800; font-size:18px">â€”</div>
            </div>
            <div class="panel">
              <div><small class="muted" data-i18n="live.liq">LiquiditÃ©</small></div>
              <div id="liquidity" style="font-weight:800; font-size:18px">â€”</div>
            </div>
          </div>
          <small class="muted" style="display:block; margin-top:8px" data-i18n="live.src">Mise Ã  jour auto toutes les 30 s (Dexscreener).</small>
        </section>
      </div>
    </section>

    <!-- TOKENOMICS -->
    <section class="panel" id="tokenomics">
      <h2 data-i18n="tok.title">Tokenomics</h2>
      <p class="muted">Supply total: <b>1,000,000,000 NLY</b></p>
      <div style="display:grid; grid-template-columns:repeat(2,1fr); gap:14px; margin-top:10px">
        <div class="card"><b>Liquidity Pool</b><br/><span class="muted">30%</span></div>
        <div class="card"><b>Marketing</b><br/><span class="muted">10% (100M)</span></div>
        <div class="card"><b>RÃ©serve</b><br/><span class="muted">35% ğŸ”’</span></div>
        <div class="card"><b>Staking/Rewards</b><br/><span class="muted">25% (250M)</span></div>
      </div>
    </section>

    <!-- LIENS OFFICIELS -->
    <section class="panel" id="links">
      <h2 data-i18n="links.title">Liens officiels & Adresses</h2>
      <div class="linksgrid" style="margin-top:10px">
        <!-- TOKEN CONTRACT -->
        <div class="card">
          <h3>ğŸ§¾ <span data-i18n="addr.tokenTitle">Contrat NellyCoin (Token)</span></h3>
          <div class="addr-row">
            <code id="tokenAddr" class="addr">0x0000â€¦0000</code>
            <button class="btn sm" id="revealToken">ğŸ‘ï¸ <span data-i18n="btn.view">Voir</span></button>
            <button class="btn sm" id="copyToken">ğŸ“‹ <span data-i18n="btn.copy">Copier</span></button>
            <a class="btn sm" id="bscToken" target="_blank" rel="noopener">ğŸ” BscScan</a>
          </div>
        </div>

        <!-- MARKETING WALLET -->
        <div class="card">
          <h3>ğŸ’° <span data-i18n="addr.mktTitle">Portefeuille Marketing</span></h3>
          <div class="addr-row">
            <code id="mktAddr" class="addr">0x0000â€¦0000</code>
            <button class="btn sm" id="revealMkt">ğŸ‘ï¸ <span data-i18n="btn.view">Voir</span></button>
            <button class="btn sm" id="copyMkt">ğŸ“‹ <span data-i18n="btn.copy">Copier</span></button>
            <a class="btn sm" id="bscMkt" target="_blank" rel="noopener">ğŸ” BscScan</a>
          </div>
          <small class="muted">Allocation: <b>100,000,000 NLY</b></small>
        </div>

        <!-- STAKING WALLET -->
        <div class="card">
          <h3>ğŸª™ <span data-i18n="addr.stkTitle">Portefeuille Staking</span></h3>
          <div class="addr-row">
            <code id="stkAddr" class="addr">0x0000â€¦0000</code>
            <button class="btn sm" id="revealStk">ğŸ‘ï¸ <span data-i18n="btn.view">Voir</span></button>
            <button class="btn sm" id="copyStk">ğŸ“‹ <span data-i18n="btn.copy">Copier</span></button>
            <a class="btn sm" id="bscStk" target="_blank" rel="noopener">ğŸ” BscScan</a>
          </div>
          <small class="muted">Allocation: <b>250,000,000 NLY</b></small>
        </div>

        <!-- LOCKED -->
        <div class="card">
          <h3>ğŸ”’ <span data-i18n="addr.lockTitle">Jetons verrouillÃ©s</span></h3>
          <div class="addr-row">
            <code class="addr">350,000,000 NLY</code>
            <a class="btn sm" id="openLock" target="_blank" rel="noopener">ğŸ”— <span data-i18n="btn.viewLock">Voir le lock</span></a>
          </div>
          <small class="muted">DÃ©verrouillage: <b>26 octobre 2026</b></small>
        </div>
      </div>
    </section>

    <!-- COMMUNAUTÃ‰ -->
    <section class="panel" id="community">
      <h2 data-i18n="comm.title">CommunautÃ©</h2>
      <ul class="list">
        <li>Twitter/X: <a href="https://x.com/NellyCoin" target="_blank">@NellyCoin</a></li>
        <li>Telegram: <a href="https://t.me/NellyCoinOfficial" target="_blank">t.me/NellyCoinOfficial</a></li>
        <li>Reddit: <a href="https://reddit.com/r/NellyCoin" target="_blank">r/NellyCoin</a></li>
      </ul>
    </section>

    <!-- SUIVI -->
    <section class="panel" id="tracking">
      <h2 data-i18n="follow.title">Suivi</h2>
      <ul class="list">
        <li>ğŸ“Š <a id="dexLink" href="https://dexscreener.com/bsc/0x4bFfd4359a06583713df160da5817737654804b5" target="_blank">Dexscreener</a></li>
        <li>ğŸ” <a id="tokenLink" href="#" target="_blank">BscScan</a></li>
      </ul>
    </section>

    <!-- ROADMAP -->
    <section class="panel" id="roadmap">
      <h2 data-i18n="road.title">Feuille de route</h2>
      <div class="roadgrid">
        <div class="card">
          <h4>Phase 1 â€” Lancement & Fondation (Q4 2025)</h4>
          <ul class="list">
            <li>DÃ©ploiement du contrat NLY sur BSC</li>
            <li>VÃ©rification & publication BscScan</li>
            <li>Site officiel www.NellyCoin.io</li>
            <li>IdentitÃ© visuelle (logo & banniÃ¨re)</li>
            <li>RÃ©seaux sociaux (X, Telegram, Redditâ€¦)</li>
            <li>Whitepaper v1.0</li>
            <li>PrÃ©-vente PinkSale</li>
          </ul>
        </div>
        <div class="card">
          <h4>Phase 2 â€” Lancement Officiel & LiquiditÃ©</h4>
          <ul class="list">
            <li>Listing PancakeSwap (NLY/BNB)</li>
            <li>Liquidity Lock</li>
            <li>Activation des frais (post prÃ©-vente)</li>
            <li>Marketing mondial</li>
            <li>Audit du contrat</li>
            <li>CoinGecko & CoinMarketCap</li>
          </ul>
        </div>
        <div class="card">
          <h4>Phase 3 â€” Ã‰cosystÃ¨me & Croissance (Q2â€“Q3 2026)</h4>
          <ul class="list">
            <li>Staking NLY (page officielle)</li>
            <li>NellyNFT Club</li>
            <li>Partenariats & caritatif</li>
            <li>Paiements NLY partenaires</li>
            <li>Mini-jeu Play2Earn â€œNelly Runâ€</li>
          </ul>
        </div>
        <div class="card">
          <h4>Phase 4 â€” Expansion Mondiale (2027+)</h4>
          <ul class="list">
            <li>Listings CEX (Gate.io, MEXCâ€¦)</li>
            <li>DAO communautaire</li>
            <li>Metaverse NellyVerse</li>
            <li>Fondation NellyCat</li>
            <li>Objectif â€œMillion Holdersâ€</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- DISCLAIMER -->
    <section class="panel" id="disclaimer">
      <h3 data-i18n="disc.title">Avertissement</h3>
      <p class="muted" data-i18n="disc.text">
        NellyCoin (NLY) est un jeton communautaire de type â€œmeme coinâ€. Aucune garantie de performance ni de valeur future.
        Les crypto-actifs sont volatils et risquÃ©s. Faites vos propres recherches (DYOR).
      </p>
    </section>
  </main>

  <footer>
    <div class="container" style="display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap">
      <div>Â© <span id="year"></span> NellyCoin â€” <b data-i18n="foot.all">Tous droits rÃ©servÃ©s</b>.</div>
      <div style="opacity:.85">Made with ğŸ§¡ â€¢ BSC â€¢ <a href="mailto:contact@nellycoin.io">contact@nellycoin.io</a></div>
    </div>
  </footer>

  <script>
    // PWA (SW)
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => { navigator.serviceWorker.register('/sw.js').catch(()=>{}); });
    }
    // PWA install (mobile App block)
    let deferredPrompt=null;
    window.addEventListener('beforeinstallprompt', (e)=>{ e.preventDefault(); deferredPrompt=e; });
    document.getElementById('installBtn')?.addEventListener('click', async ()=>{
      if(!deferredPrompt) return alert('PWA non disponible pour le moment.');
      deferredPrompt.prompt(); await deferredPrompt.userChoice; deferredPrompt=null;
    });

    // Settings (adresses officielles)
    const SETTINGS = {
      TOKEN_ADDRESS:'0x4bFfd4359a06583713df160da5817737654804b5',
      MKT_ADDRESS:'0xdb53d652d88e3eb7adda48a69b7f83610d76d494',
      STK_ADDRESS:'0xa90c2b54d230859386e9640073a47aca56962e51',
      DEX_TOKEN:'0x4bFfd4359a06583713df160da5817737654804b5',
      PINKLOCK:'https://www.pinksale.finance/pinklock/bsc/record/1369793'
    };

    const $=s=>document.querySelector(s);
    const mask=a=>a ? a.slice(0,6)+'â€¦'+a.slice(-4) : '0x000â€¦0000';

    // Header interactions
    document.getElementById('year').textContent=(new Date()).getFullYear();
    document.getElementById('menuToggle')?.addEventListener('click',()=>document.getElementById('mainNav').classList.toggle('open'));

    // Links
    const tokenLinkEl = document.getElementById('tokenLink');
    if (tokenLinkEl) tokenLinkEl.href = 'https://bscscan.com/token/'+SETTINGS.TOKEN_ADDRESS;
    document.getElementById('openLock').href = SETTINGS.PINKLOCK;
    document.getElementById('dexLink').href = 'https://dexscreener.com/bsc/'+SETTINGS.DEX_TOKEN;

    // Address blocks mask/reveal/copy
    const tokenAddrEl = document.getElementById('tokenAddr');
    const mktAddrEl = document.getElementById('mktAddr');
    const stkAddrEl = document.getElementById('stkAddr');
    tokenAddrEl.textContent = mask(SETTINGS.TOKEN_ADDRESS);
    mktAddrEl.textContent = mask(SETTINGS.MKT_ADDRESS);
    stkAddrEl.textContent = mask(SETTINGS.STK_ADDRESS);
    document.getElementById('bscToken').href = 'https://bscscan.com/token/'+SETTINGS.TOKEN_ADDRESS;
    document.getElementById('bscMkt').href = 'https://bscscan.com/address/'+SETTINGS.MKT_ADDRESS;
    document.getElementById('bscStk').href = 'https://bscscan.com/address/'+SETTINGS.STK_ADDRESS;

    function setupRevealCopy(codeEl, btnReveal, btnCopy, full){
      let revealed=false;
      btnReveal?.addEventListener('click',()=>{
        if (!revealed){ codeEl.textContent=full; btnReveal.innerHTML='ğŸ™ˆ <span data-i18n="btn.hide">Cacher</span>'; }
        else { codeEl.textContent=mask(full); btnReveal.innerHTML='ğŸ‘ï¸ <span data-i18n="btn.view">Voir</span>'; }
        revealed=!revealed;
      });
      btnCopy?.addEventListener('click', async ()=>{
        try { await navigator.clipboard.writeText(full);
          const old=btnCopy.innerHTML; btnCopy.innerHTML='âœ… <span data-i18n="btn.copied">CopiÃ©</span>';
          setTimeout(()=>btnCopy.innerHTML=old,1200);
        } catch {}
      });
    }
    setupRevealCopy(tokenAddrEl, $('#revealToken'), $('#copyToken'), SETTINGS.TOKEN_ADDRESS);
    setupRevealCopy(mktAddrEl, $('#revealMkt'), $('#copyMkt'), SETTINGS.MKT_ADDRESS);
    setupRevealCopy(stkAddrEl, $('#revealStk'), $('#copyStk'), SETTINGS.STK_ADDRESS);

    // Live Dex (desktop)
    const priceUsdEl = document.getElementById('priceUsd');
    const priceBnbEl = document.getElementById('priceBnb');
    const change24El = document.getElementById('change24');
    const vol24El = document.getElementById('vol24');
    const liqEl = document.getElementById('liquidity');
    const fdvEl = document.getElementById('fdv');
    const updatedEl = document.getElementById('lastUpdated');
    const refreshBtn = document.getElementById('refreshBtn');

    // Live Dex (mobile)
    const m_priceUsdEl = document.getElementById('m_priceUsd');
    const m_priceBnbEl = document.getElementById('m_priceBnb');
    const m_change24El = document.getElementById('m_change24');
    const m_vol24El = document.getElementById('m_vol24');
    const m_liqEl = document.getElementById('m_liquidity');
    const m_fdvEl = document.getElementById('m_fdv');

    async function applyDexToMobileAndDesktop(best){
      const nf0=new Intl.NumberFormat(undefined,{maximumFractionDigits:0});
      const nf2=new Intl.NumberFormat(undefined,{maximumFractionDigits:6});
      const money=v=>v==null?'â€”':'$'+nf0.format(v);
      const pxUsd=+best.priceUsd||0, pxBnb=+best.priceNative||0, ch24=+best.priceChange?.h24, vol24=+best.volume?.h24, liq=+best.liquidity?.usd, fdv=+best.fdv;

      // desktop
      if (priceUsdEl) priceUsdEl.textContent = pxUsd ? '$'+nf2.format(pxUsd) : 'â€”';
      if (priceBnbEl) priceBnbEl.textContent = pxBnb ? nf2.format(pxBnb)+' BNB' : 'â€”';
      if (change24El){ change24El.textContent = isFinite(ch24)? (ch24>=0?'+':'')+ch24.toFixed(2)+'%':'â€”'; change24El.style.color = isFinite(ch24)? (ch24>=0?'var(--ok)':'var(--down)') : 'inherit'; }
      if (vol24El) vol24El.textContent = isFinite(vol24)? money(vol24) : 'â€”';
      if (liqEl) liqEl.textContent = isFinite(liq)? money(liq) : 'â€”';
      if (fdvEl) fdvEl.textContent = isFinite(fdv)? money(fdv) : 'â€”';

      // mobile
      if (m_priceUsdEl) m_priceUsdEl.textContent = pxUsd ? '$'+nf2.format(pxUsd) : 'â€”';
      if (m_priceBnbEl) m_priceBnbEl.textContent = pxBnb ? nf2.format(pxBnb)+' BNB' : 'â€”';
      if (m_change24El){ m_change24El.textContent = isFinite(ch24)? (ch24>=0?'+':'')+ch24.toFixed(2)+'%':'â€”'; m_change24El.style.color = isFinite(ch24)? (ch24>=0?'var(--ok)':'var(--down)') : 'inherit'; }
      if (m_vol24El) m_vol24El.textContent = isFinite(vol24)? money(vol24) : 'â€”';
      if (m_liqEl) m_liqEl.textContent = isFinite(liq)? money(liq) : 'â€”';
      if (m_fdvEl) m_fdvEl.textContent = isFinite(fdv)? money(fdv) : 'â€”';
    }

    async function fetchDex(){
      if(!SETTINGS.DEX_TOKEN){ if(updatedEl) updatedEl.textContent='â€”'; return; }
      const url = `https://api.dexscreener.com/latest/dex/tokens/${SETTINGS.DEX_TOKEN}`;
      if(updatedEl) updatedEl.textContent='â€¦';
      try{
        const res = await fetch(url, {cache:'no-store'}); if(!res.ok) throw new Error();
        const data = await res.json();
        const pairs = data?.pairs || [];
        const best = pairs.filter(p=> (p.chainId||'').toLowerCase()==='bsc')
                          .sort((a,b)=> (b.liquidity?.usd||0)-(a.liquidity?.usd||0))
                          .pop();
        if(!best){ if(updatedEl) updatedEl.textContent='N/A'; return; }
        await applyDexToMobileAndDesktop(best);
        if(updatedEl) updatedEl.textContent=new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
      }catch{ if(updatedEl) updatedEl.textContent='âš ï¸'; }
    }
    refreshBtn?.addEventListener('click', fetchDex);
    setInterval(fetchDex, 30000);
    fetchDex();

    // i18n
    const I18N = {
      fr:{
        'nav.about':'Ã€ propos','nav.howto':'Comment acheter','nav.tokenomics':'Tokenomics','nav.roadmap':'Feuille de route','nav.staking':'Staking','nav.faq':'FAQ','nav.buy':'Acheter NLY',
        'hero.mascotte':'ğŸ¾ <b>NellyCoin â€” la mascotte de la communautÃ©.</b><br/>InspirÃ© par Nelly le chat, symbole dâ€™un projet fun, transparent et communautaire.',
        'about.title':'Pourquoi NellyCoin ?','about.desc':'NellyCoin (NLY) est un meme coin communautaire inspirÃ© par Nelly le chat. Transparence, humour, et utilitÃ© progressive.','about.p1':'Projet communautaire sur BSC : fun, transparence et vision long terme.','about.p2':'Contrat public et LP lock publiÃ©s.','about.p3':'UtilitÃ©s progressives (staking, concours, intÃ©grations).',
        'how.title':'Comment acheter','how.l1':'Installer MetaMask/Trust Wallet â†’ RÃ©seau BSC.','how.l2':'Ajouter des BNB.','how.l3':'Ouvrir PancakeSwap et importer le contrat du token.','how.l4':'Slippage: 0.1â€“5% selon taxes actives.',
        'pwa.title':'PWA','pwa.text.full':'Disponible aprÃ¨s la prÃ©vente. Taxes â‰¤5% (3% marketing + 2% LP). Accessible sur navigateur ou via installation PWA.',
        'app.title':'App','app.text':'App NellyCoin installable depuis ton navigateur mobile.','app.install':'Installer',
        'status.title':'Statut','status.text':'PrÃ©-vente & listing Ã  venir.','status.buy':'Acheter','status.presale':'PrÃ©-vente (bientÃ´t)',
        'live.title':'Cours & Stats (live)','live.refresh':'â†» RafraÃ®chir','live.note':'Le live chart sera visible aprÃ¨s le listing PancakeSwap. DonnÃ©es via Dexscreener.','live.usd':'Prix (USD)','live.bnb':'Prix (BNB)','live.change':'Variation 24h','live.vol':'Volume 24h','live.liq':'LiquiditÃ©','live.src':'Mise Ã  jour auto toutes les 30 s (Dexscreener).',
        'tok.title':'Tokenomics','links.title':'Liens officiels & Adresses',
        'addr.tokenTitle':'Contrat NellyCoin (Token)','addr.mktTitle':'Portefeuille Marketing','addr.stkTitle':'Portefeuille Staking','addr.lockTitle':'Jetons verrouillÃ©s',
        'btn.view':'Voir','btn.hide':'Cacher','btn.copy':'Copier','btn.copied':'CopiÃ©','btn.viewLock':'Voir le lock',
        'comm.title':'CommunautÃ©','follow.title':'Suivi',
        'road.title':'Feuille de route',
        'disc.title':'Avertissement','disc.text':'NellyCoin (NLY) est un jeton communautaire de type â€œmeme coinâ€. Aucune garantie de performance ni de valeur future. Les crypto-actifs sont volatils et risquÃ©s. Faites vos propres recherches (DYOR).',
        'foot.all':'Tous droits rÃ©servÃ©s'
      },
      en:{
        'nav.about':'About','nav.howto':'How to buy','nav.tokenomics':'Tokenomics','nav.roadmap':'Roadmap','nav.staking':'Staking','nav.faq':'FAQ','nav.buy':'Buy NLY',
        'hero.mascotte':'ğŸ¾ <b>NellyCoin â€” the community mascot.</b><br/>Inspired by Nelly the cat: fun, transparent and community-driven.',
        'about.title':'Why NellyCoin?','about.desc':'NellyCoin (NLY) is a community meme coin inspired by Nelly the cat. Transparency, fun and progressive utility.','about.p1':'Community-driven on BSC: fun, transparency and long-term vision.','about.p2':'Public contract and LP lock published.','about.p3':'Progressive utilities (staking, contests, integrations).',
        'how.title':'How to buy','how.l1':'Install MetaMask/Trust Wallet â†’ BSC network.','how.l2':'Add some BNB.','how.l3':'Open PancakeSwap and import the token contract.','how.l4':'Slippage: 0.1â€“5% depending on active taxes.',
        'pwa.title':'PWA','pwa.text.full':'Available after presale. Taxes â‰¤5% (3% marketing + 2% LP). Accessible in your browser or via PWA install.',
        'app.title':'App','app.text':'NellyCoin mobile app â€” installable from your mobile browser.','app.install':'Install',
        'status.title':'Status','status.text':'Presale & listing coming soon.','status.buy':'Buy','status.presale':'Presale (soon)',
        'live.title':'Price & Live Stats','live.refresh':'â†» Refresh','live.note':'The live chart will appear after the PancakeSwap listing. Data via Dexscreener.','live.usd':'Price (USD)','live.bnb':'Price (BNB)','live.change':'24h Change','live.vol':'24h Volume','live.liq':'Liquidity','live.src':'Auto-update every 30s (Dexscreener).',
        'tok.title':'Tokenomics','links.title':'Official Links & Addresses',
        'addr.tokenTitle':'NellyCoin Contract (Token)','addr.mktTitle':'Marketing Wallet','addr.stkTitle':'Staking Wallet','addr.lockTitle':'Locked Tokens',
        'btn.view':'View','btn.hide':'Hide','btn.copy':'Copy','btn.copied':'Copied','btn.viewLock':'View lock',
        'comm.title':'Community','follow.title':'Tracking',
        'road.title':'Roadmap',
        'disc.title':'Disclaimer','disc.text':'NellyCoin (NLY) is a community meme coin. No guarantee of performance or future value. Crypto assets are volatile and risky. Do your own research (DYOR).',
        'foot.all':'All rights reserved'
      }
    };
    const langSel=document.getElementById('lang');
    function applyLang(l){ const d=I18N[l]||I18N.fr; document.querySelectorAll('[data-i18n]').forEach(el=>{const k=el.getAttribute('data-i18n'); if(d[k]) el.innerHTML=d[k];}); }
    const savedLang = localStorage.getItem('nly_lang') || ((navigator.language||'fr').toLowerCase().startsWith('en')?'en':'fr');
    langSel.value = savedLang; applyLang(savedLang);
    langSel.addEventListener('change', e=>{ localStorage.setItem('nly_lang', e.target.value); applyLang(e.target.value); });
  </script>
</body>
</html>

